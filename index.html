<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>è¦å¡å®Ÿç¸¾</title>
  <style>
  
body {
  font-family: sans-serif;
      padding: 2rem;
      margin: 0;
      background-image: url('https://img.freepik.com/free-photo/abstract-luxury-soft-red-background-christmas-valentines-layout-designstudioroom-web-template-busine_1258-52754.jpg?ga=GA1.1.1456035980.1746671026&semt=ais_hybrid&w=740');
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: #fff;
    }




    h1, h2 {
      text-align: center;
      text-shadow: 2px 2px 6px #000;
      margin-bottom: 1.5rem;
    }

    #playerSection, #filterSection {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    #playerName {
      padding: 0.6rem;
      font-size: 1rem;
      border-radius: 4px;
      border: none;
      width: 200px;
    }

    button {
      padding: 0.6rem 1.2rem;
      margin-left: 0.5rem;
      background: crimson;
      border: none;
      color: white;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
    }

    #stats {
      background: rgba(0, 0, 0, 0.75);
      border-radius: 8px;
      padding: 1.5rem;
      margin: 1.5rem auto;
      max-width: 700px;
      font-size: 1.1rem;
    }

    ul {
      list-style: none;
      padding: 0;
      max-width: 900px;
      margin: 1rem auto;
    }

    
  li {
    background: rgba(0, 0, 0, 0.6);
    margin: 1rem 0;
    padding: 1rem;
    border-radius: 6px;
    border: 2px solid #ccc;
    position: relative;
    transition: 0.2s;
    cursor: pointer;
    color: white;
  }

  li.done {
    border-color: crimson;
    background: rgba(90, 0, 0, 0.7);
  }

  .trophy-title {
    font-size: 1.2rem;
    font-weight: bold;
    position: relative; /* ã‚¹ã‚¿ãƒ³ãƒ—ã®åŸºæº–ç‚¹ã«ã™ã‚‹ */
  }

  .stamp {
    position: absolute;
    top: 1.0rem; /* ã‚¿ã‚¤ãƒˆãƒ«ä¸Šã«è¡¨ç¤º */
    left: 85%;
    transform: translateX(-50%) rotate(-15deg);
    font-size: 2rem;
    color: gold;
    z-index: 1;
    text-shadow: 1px 1px 2px #000;
  }
    
    .trophy-title {
      font-size: 1.25rem;
      font-weight: bold;
      margin-bottom: 0.4rem;
    }

    .stars {
      color: gold;
      font-size: 1.1rem;
      margin-bottom: 0.3rem;
    }

    .desc {
      color: #ddd;
      font-size: 0.95rem;
    }

    #modal {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #modal.show {
      display: flex;
    }

    .modal-content {
      background: #222;
      color: #fff;
      padding: 2rem;
      border-radius: 10px;
      text-align: center;
      animation: pop 0.4s ease-out;
    }

    @keyframes pop {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    select {
      padding: 0.5rem;
      border-radius: 4px;
      border: none;
      font-size: 1rem;
    }

    .date-label {
      font-size: 0.85rem;
      margin-top: 0.6rem;
      color: #ccc;
    }
  </style>
</head>
<body>
  <h1>ğŸ† è¦å¡å®Ÿç¸¾</h1>

<div id="playerSection">
    <label for="playerName">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åï¼š</label>
    <input id="playerName" type="text" placeholder="åå‰ã‚’å…¥åŠ›" />
    <button onclick="savePlayerName()">ä¿å­˜</button>
    <div id="playerDisplay"></div>
  </div>
 

  <div id="filterSection">
    <label for="filterSelect">ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼š</label>
    <select id="filterSelect" onchange="renderAchievements()">
      <option value="all">ã™ã¹ã¦</option>
      <option value="done">é”æˆæ¸ˆã¿</option>
      <option value="undone">æœªé”æˆ</option>
      <option value="star1">â˜…1</option>
      <option value="star2">â˜…2</option>
      <option value="star3">â˜…3</option>
      <option value="star4">â˜…4</option>
      <option value="star5">â˜…5</option>
      <option value="star6">â˜…6</option>
      <option value="star7">â˜…7</option>
    </select>
  </div>

  <div id="stats"></div>
  <ul id="list"></ul>

  <div id="modal">
    <div class="modal-content">
      <h2>ğŸ… ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ç²å¾—ï¼</h2>
      <p id="modalMsg"></p>
    </div>
  </div>



<script>
  const list = document.getElementById('list');
  const modal = document.getElementById('modal');
  const modalMsg = document.getElementById('modalMsg');
  const stats = document.getElementById('stats');
  const playerNameInput = document.getElementById('playerName');
  const playerDisplay = document.getElementById('playerDisplay');

  const achievements = [
    { title: "ã‚ˆã†ã“ãè«¸å›ï¼", difficulty: 1, description: "çµ¶æœ›è¦å¡ã‚’åˆã‚ã¦ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
ã€€ã€€{ title: "ã‚½ãƒ­ãƒ¢ãƒ¼ãƒ‰", difficulty: 1, description: "ä¸€äººã§ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
    { title: "ãƒ‡ãƒ¥ã‚ªãƒ¢ãƒ¼ãƒ‰", difficulty: 1, description: "äºŒäººã§ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
    { title: "ãƒˆãƒªã‚ªãƒ¢ãƒ¼ãƒ‰", difficulty: 1, description: "ä¸‰äººã§ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
    { title: "é–‹å‡¸è¦å¡", difficulty: 2, description: "ãã®æ—¥ä¸€ç•ªæœ€åˆã«ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
    { title: "ãƒ©ã‚¹ãƒˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼", difficulty: 2, description: "ãã®æ—¥ä¸€ç•ªæœ€å¾Œã«ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
//1st
    { title: "æ¬¡ã¸é€²ã¿ãŸã¾ãˆ", difficulty: 1, description: "1stã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "é›»å…‰çŸ³ç«", difficulty: 2, description: "ã ã‚‹ã¾ã•ã‚“ãŒã“ã‚ã‚“ã ã‚’80ç§’ä»¥ä¸Šæ®‹ã—ã¦ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ãƒã‚¤", difficulty: 3, description: "ä¸€åº¦ã‚‚å±ˆã¾ãšã«ãƒã‚¤ãƒã‚¤ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "ãƒ‡ãƒ¥ã‚ªã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ãƒã‚¤", difficulty: 4, description: "äºŒäººãƒ—ãƒ¬ã‚¤ã§ä¸€åº¦ã‚‚å±ˆã¾ãšã«ãƒã‚¤ãƒã‚¤ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "ãƒ†ãƒˆãƒªã‚¹", difficulty: 3, description: "ã‚½ãƒ­ãƒ—ãƒ¬ã‚¤ã§ãƒ‘ã‚ºãƒ«ã‚’90ç§’ä»¥ä¸Šæ®‹ã—ã¦ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },   
    { title: "ãƒ—ãƒ­ã®ä¸€ç­†", difficulty: 2, description: "ä¸€ç­†æ›¸ãã‚’105ç§’ä»¥ä¸Šæ®‹ã—ã¦ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
//2nd
    { title: "ã‚·ãƒ§ãƒ¼ã‚‰ã—ã", difficulty: 1, description: "2ndã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "è¦‹èè‰²ã®è¦‡æ°—", difficulty: 2, description: "å¤§ç¹©è·³ã³ã§100ç‚¹ã‚’å–ã‚‹", done: false, date: null },
    { title: "èª­ã¿æ–¹ã¯çŸ¥ã‚‰ãªã„", difficulty: 2, description: "ã‚¤ãƒ©ã‚¤ãƒ©æœ¬ã§100ç‚¹ã‚’å–ã‚‹", done: false, date: null },
    { title: "ã‹ãã‚Œã‚“ãª", difficulty: 2, description: "ã‹ãã‚Œã‚“ã¼ã§60ç‚¹ã‚’å–ã‚‹", done: false, date: null },
    { title: "åƒé‡Œçœ¼", difficulty: 6, description: "ã‹ãã‚Œã‚“ã¼ã§100ç‚¹ã‚’å–ã‚‹", done: false, date: null },
    { title: "æ±å¤§å’æ¥­", difficulty: 2, description: "æ——æšã’ã§100ç‚¹ã‚’å–ã‚‹", done: false, date: null },
    { title: "ãƒ©ãƒƒã‚­ãƒ¼ï¼Ÿ", difficulty: 2, description: "ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null },
//3rd
    { title: "ã‚½ãƒ­4th", difficulty: 3, description: "ã‚½ãƒ­ãƒ—ãƒ¬ã‚¤ã§3rdã‚¹ãƒ†ãƒ¼ã‚¸ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },    
    { title: "ä¸Šæ‰‹ã™ãã¦çµ¶æœ›", difficulty: 3, description: "ç‰è©°ã¾ã‚Šã‚’èµ·ã“ã™", done: false, date: null },
    { title: "ã‚·ãƒ¥ãƒ¼ã‚ºã‚·ãƒ¥ãƒ¼ã‚¿ãƒ¼", difficulty: 3, description: "ç‰å…¥ã‚Œã®ã‚´ãƒ¼ãƒ«ã«é´ã‚’å…¥ã‚Œã‚‹", done: false, date: null },
    { title: "ãƒ”ãƒƒãƒãƒ³ã‚°ãƒã‚·ãƒ³", difficulty: 4, description: "120ç§’ä»¥å†…ã«ä¸€äººã§34çƒã€ç‰ã‚’å…¥ã‚Œã‚‹", done: false, date: null },
    { title: "ãƒ—ãƒ­é¸æ‰‹", difficulty: 5, description: "120ç§’ä»¥å†…ã«ä¸€äººã§50çƒã€ç‰ã‚’å…¥ã‚Œã‚‹", done: false, date: null },
    { title: "çµ„ã¿ãŸã„äººæ", difficulty: 3, description: "â™£â™ â™¥å…¨ã¦ã®ä½ç½®ã§ãƒŸã‚µã‚¤ãƒ«ã‚’4ç™ºå½“ã¦ã‚‹", done: false, date: null },
    { title: "ãƒ›ãƒ¼ãƒ«ã‚¤ãƒ³ãƒ¯ãƒ³", difficulty: 3, description: "30ã‚³ã‚¤ãƒ³ã‚’å…¥ã‚Œã‚‹", done: false, date: null },
    { title: "æ›²èŠ¸å¸«", difficulty: 4, description: "ã‚½ãƒ­ãƒ—ãƒ¬ã‚¤ã§ç´™é¢¨èˆ¹ã‚’3å€‹ä¹—ã›ã‚‹", done: false, date: null },
    { title: "Despair Castle", difficulty: 4, description: "ã‚¸ãƒ£ãƒƒã‚­ã‚’æœ€ä¸Šæ®µã¾ã§ä¸Šã’ãã‚‹", done: false, date: null },
    { title: "3rd stage ãƒã‚¹ã‚¿ãƒ¼", difficulty: 5, description: "3rdã‚¹ãƒ†ãƒ¼ã‚¸ã§194ç‚¹ä»¥ä¸Šã‚’å–ã‚‹", done: false, date: null },
    { title: "å¹»ã®6ç‚¹", difficulty: 7, description: "ãƒãƒ³ãƒ—ã§100ç‚¹ã‚’å–ã‚‹", done: false, date: null },
//4th
    { title: "ã“ã“ã¾ã§ãŒãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«", difficulty: 3, description: "Wã®è¡¨é¢ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "é€Ÿæ”»", difficulty: 4, description: "Wè¡¨é¢ã‚’1çƒçªç ´ã™ã‚‹", done: false, date: null },
    { title: "block bursting", difficulty: 5, description: "ãƒ–ãƒ­ãƒƒã‚¯å´©ã—ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "æœ€é«˜ã®ã‚·ãƒ§ãƒ¼", difficulty: 6, description: "ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆã®å€¤ãŒ54ã®æ™‚ã«Wã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "æ¡ˆå†…äººã‚’å¾…ã¦ï¼", difficulty: 5, description: "ã‚·ãƒ¼ã‚½ãƒ¼ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "ç¬¬äºŒã®Qãƒ©ã‚¤ãƒ³", difficulty: 3, description: "4thè£ã§8çµ„ä»¥ä¸Šå¾…ã¤", done: false, date: null },
//5th
    { title: "it's showtime", difficulty: 5, description: "ã ã‚‹ã¾è½ã¨ã—1stã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "æ„Ÿå‹•ã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬", difficulty: 6, description: "ã ã‚‹ã¾è½ã¨ã—2ndã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "çµ¶æœ›ã‚’ã‚ã‚ŠãŒã¨ã†", difficulty: 6, description: "Zã§çµ¶æœ›ã™ã‚‹", done: false, date: null },
    { title: "å¸Œæœ›", difficulty: 7, description: "Zã‚’ã‚¯ãƒªã‚¢ã™ã‚‹", done: false, date: null },
    { title: "ãƒ‘ãƒ³ãƒ‰ãƒ©ã®ç®±", difficulty: 7, description: "Zã«ã‚ã‚‹é‡‘åº«ã‚’é–‹ã‘ã‚‹", done: false, date: null },

   
    { title: "çµ¶æœ›ãƒãƒ‹ã‚¢", difficulty: 2, description: "çµ¶æœ›å›æ•°ãŒ100å›ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "çµ¶æœ›åäºº", difficulty: 3, description: "çµ¶æœ›å›æ•°ãŒ300å›ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "çµ¶æœ›ã®é”äºº", difficulty: 4, description: "çµ¶æœ›å›æ•°ãŒ500å›ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "è¶…é«˜æ ¡ç´šã®çµ¶æœ›", difficulty: 5, description: "çµ¶æœ›å›æ•°ãŒ1000å›ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "çµ¶æœ›ãƒã‚¹ã‚¿ãƒ¼", difficulty: 6, description: "çµ¶æœ›å›æ•°ãŒ1500å›ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "ãƒˆãƒƒãƒ—ãƒ©ãƒ³ãƒŠãƒ¼", difficulty: 6, description: "ç·åˆå¾—ç‚¹ãŒ900ç‚¹ã‚’è¶…ãˆã‚‹", done: false, date: null },
    { title: "æˆé‡‘è¦å¡", difficulty: 3, description: "çµ¶å«å„ªå…ˆæ¨©ã‚’50æšä»¥ä¸Šè³¼å…¥ã™ã‚‹", done: false, date: null },
    { title: "çŸ³ã®ä¸Šã«ã‚‚ä¸‰å¹´", difficulty: 3, description: "Qãƒ©ã‚¤ãƒ³ã§150åˆ†ä»¥ä¸Šå¾…ã¤", done: false, date: null },
    { title: "å‘½çŸ¥ã‚‰ãš", difficulty: 4, description: "å°é¢¨ã¾ãŸã¯å¤§é›ªã®æ—¥ã«ãƒ—ãƒ¬ã‚¤ã™ã‚‹", done: false, date: null }
  ];

  function saveState() {
    localStorage.setItem('fixedAchievements', JSON.stringify(achievements));
  }

  function loadState() {
    const stored = JSON.parse(localStorage.getItem('fixedAchievements'));
    if (stored) {
      for (let i = 0; i < achievements.length; i++) {
        achievements[i].done = stored[i]?.done || false;
        achievements[i].date = stored[i]?.date || null;
      }
    }
  }

  function renderAchievements() {
    const filter = document.getElementById('filterSelect')?.value || 'all';
    list.innerHTML = '';

    achievements.forEach((item, i) => {
      if (filter === 'done' && !item.done) return;
      if (filter === 'undone' && item.done) return;
      if (filter.startsWith('star')) {
        const star = parseInt(filter.replace('star', ''), 10);
        if (item.difficulty !== star) return;
      }

      const li = document.createElement('li');
      li.className = item.done ? 'done' : '';
      li.innerHTML = `
  <div class="trophy-title">
    ${item.title}
    ${item.done ? `<div class="stamp">é”æˆ</div>` : ''}
  </div>
  <div class="stars">é›£æ˜“åº¦: ${'â˜…'.repeat(item.difficulty)}</div>
  <div class="desc">${item.description}</div>
  ${item.done ? `
    <div class="date-label">
      é”æˆæ—¥:
      <input type="date" value="${item.date || ''}" onchange="updateDate(${i}, this.value)" />
    </div>` : ''}
`;

      li.onclick = (e) => {
        if (e.target.tagName === 'INPUT') return; // æ—¥ä»˜å¤‰æ›´æ™‚ã¯å‡¦ç†ã‚’ç„¡åŠ¹åŒ–

        if (item.done) {
          const confirmReset = confirm(`${item.title} ã¯æ—¢ã«é”æˆæ¸ˆã¿ã§ã™ã€‚\næœªé”æˆã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ`);
          if (!confirmReset) return;
          item.done = false;
          item.date = null;
        } else {
          item.done = true;
          item.date = new Date().toISOString().split('T')[0];
          showTrophy(item.title, item.difficulty);
        }

        saveState();
        renderAchievements();
        updateStats();
      };

      list.appendChild(li);
    });
  }

  function updateDate(index, value) {
    achievements[index].date = value;
    saveState();
    renderAchievements(); // å³æ™‚æ›´æ–°
  }

  function showTrophy(name, difficulty) {
    modalMsg.innerHTML = `<strong>${name}</strong>ï¼ˆé›£æ˜“åº¦ï¼š${'â˜…'.repeat(difficulty)}ï¼‰ã‚’é”æˆï¼`;
    modal.classList.add('show');
    setTimeout(() => modal.classList.remove('show'), 2000);
  }

  function updateStats() {
    const counts = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7:0 };
    const totals = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7:0 };
    achievements.forEach(a => {
      totals[a.difficulty] = (totals[a.difficulty] || 0) + 1;
      if (a.done) counts[a.difficulty] = (counts[a.difficulty] || 0) + 1;
    });

    let html = '<h2>ğŸ ãƒˆãƒ­ãƒ•ã‚£ãƒ¼å–å¾—çŠ¶æ³</h2><ul>';
    for (let d = 1; d <= 7; d++) {
      if (totals[d]) {
        const got = counts[d];
        const total = totals[d];
        const rate = total > 0 ? Math.round((got / total) * 100) : 0;
        html += `<li>â˜…${d}ï¼š${got} / ${total}ï¼ˆ${rate}%ï¼‰</li>`;
      }
    }
    html += '</ul>';
    stats.innerHTML = html;
  }

  function savePlayerName() {
    const name = playerNameInput.value.trim();
    if (name) {
      localStorage.setItem('playerName', name);
      playerDisplay.textContent = `ã‚ˆã†ã“ãã€${name}ã•ã‚“ï¼`;
    }
  }

  function loadPlayerName() {
    const name = localStorage.getItem('playerName');
    if (name) {
      playerDisplay.textContent = `ã‚ˆã†ã“ãã€${name}ã•ã‚“ï¼`;
      playerNameInput.value = name;
    }
  }

  // åˆæœŸåŒ–
  loadState();
  loadPlayerName();
  renderAchievements();
  updateStats();
</script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyAq4qFDMXs1FeZsbq6Hjw5KsJu0eLLh23I",
    authDomain: "impossible-zby.firebaseapp.com",
    projectId: "impossible-zby",
    storageBucket: "impossible-zby.firebasestorage.app",
    messagingSenderId: "810576974002",
    appId: "1:810576974002:web:c9501bf235da3bcf9e39ab",
    measurementId: "G-PP46F121DB"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</body>
</html>
